@startuml
!include style.puml
actor User
participant Astra
participant Parser
participant C as "AddGpaCommand"
participant NB as "Notebook"
participant GL as "GpaList"
participant UI as "Ui"

User -> Astra: input "add gpa CS2040C A+ 4mc"
Astra -> Parser: parse(input)
Parser --> Astra: new AddGpaCommand(input)
Astra -> C: execute(activities, UI, NB)
group validate and normalize
	C -> C: split tokens; expect 5
	C -> C: check prefix "add gpa"
	C -> C: subject = upper(subject)
	C -> C: grade = upper(grade); validate in set
	C -> C: mc = digits(mcToken); parse int; >= 0
end
group create and persist
	C -> C: entry = new GpaEntry(subject, grade, mc)
	C -> NB: getGpaList()
	C -> GL: add(entry)
	C -> NB: saveGpa()
end
C -> UI: showMessage("Added GPA entry: " + entry)
C --> Astra: return shouldExit=false
@enduml